
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Code: Impossible">
    <title>Trailing whitespace is evil. Don&#39;t commit evil into your repo. - Code: Impossible</title>
    <meta name="author" content="Jared Barboza">
    
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <meta name="description" content="Lately, I’ve beeen working on a lot of projects with different people/languages/editors, most of us were new git’ers and each project had a real problem with trailing whitespace.Fred and Tim
It all st">
<meta property="og:type" content="blog">
<meta property="og:title" content="Trailing whitespace is evil. Don't commit evil into your repo.">
<meta property="og:url" content="http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/index.html">
<meta property="og:site_name" content="Code: Impossible">
<meta property="og:description" content="Lately, I’ve beeen working on a lot of projects with different people/languages/editors, most of us were new git’ers and each project had a real problem with trailing whitespace.Fred and Tim
It all st">
<meta property="og:image" content="http://dl.dropbox.com/u/6291954/MnEIl.gif">
<meta property="og:updated_time" content="2016-01-30T02:11:03.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Trailing whitespace is evil. Don't commit evil into your repo.">
<meta name="twitter:description" content="Lately, I’ve beeen working on a lot of projects with different people/languages/editors, most of us were new git’ers and each project had a real problem with trailing whitespace.Fred and Tim
It all st">
<meta name="twitter:creator" content="@codeimpossible">
    
        <meta rel="publisher" content="https://plus.google.com/+JaredBarboza"/>
    
    
        
    
    
        <meta property="og:image" content="http://www.gravatar.com/avatar/55997cec217233703cbf68b689578771?s=640"/>
    
    
    
    

    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-guhdkir8ydc15gstvfrilmqipgxqabaughf7axa2xp1zxj25cgkyaopdfcai.min.css" type="text/css">
    <!--STYLES END-->

    <link rel="stylesheet" href="/assets/css/codeimpossible.css" type="text/css">

    
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-9421738-1']);
        _gaq.push(['_trackPageview']);
        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
    

<header id="header" data-behavior="3">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">Code: Impossible</a>
    </h1>
    
        
            <a  class="header-right-picture "
                href="/#about">
        
        
            <img class="header-picture" src="http://www.gravatar.com/avatar/55997cec217233703cbf68b689578771?s=90"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->


    

<nav id="sidebar" data-behavior="3">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="http://www.gravatar.com/avatar/55997cec217233703cbf68b689578771?s=110"/>
            </a>
            <span class="sidebar-profile-name">Jared Barboza</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">Home</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">Categories</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">Tags</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">Archives</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">About</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://github.com/codeimpossible" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="http://stackoverflow.com/users/1980/jared" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
                    <span class="sidebar-button-desc">Stack Overflow</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://twitter.com/codeimpossible" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-twitter"></i>
                    <span class="sidebar-button-desc">Twitter</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link " href="https://www.linkedin.com/in/jaredbarboza" target="_blank">
                
                    <i class="sidebar-button-icon fa fa-lg fa-linkedin"></i>
                    <span class="sidebar-button-desc">LinkedIn</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/atom.xml"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
                    <span class="sidebar-button-desc">RSS</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="3"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            Trailing whitespace is evil. Don&#39;t commit evil into your repo.
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" content="Mon Apr 02 2012 00:00:00 GMT-0500">
	
		    Apr 02, 2012
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/development/">development</a>


    
</div>
</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <h3 id="Lately_2C_I_u2019ve_beeen_working_on_a_lot_of_projects_with_different_people/languages/editors_2C_most_of_us_were_new_git_u2019ers_and_each_project_had_a_real_problem_with_trailing_whitespace"><a href="#Lately_2C_I_u2019ve_beeen_working_on_a_lot_of_projects_with_different_people/languages/editors_2C_most_of_us_were_new_git_u2019ers_and_each_project_had_a_real_problem_with_trailing_whitespace" class="headerlink" title="Lately, I’ve beeen working on a lot of projects with different people/languages/editors, most of us were new git’ers and each project had a real problem with trailing whitespace."></a>Lately, I’ve beeen working on a lot of projects with different people/languages/editors, most of us were new git’ers and each project had a real problem with trailing whitespace.</h3><p><strong>Fred and Tim</strong></p>
<p>It all starts out innocently enough. Fred, a mid-level developer at InfoTech Systems opens up his IM client and fires off a chat to a co-worker: “Hey Tim, can you check out my pull request? I’m done with the ratings feature and think we should merge it in”.</p>
<p>Tim, a Senior Software Developer, has been writing code since the mid 80’s. He originally started out contributing to the Gnome project and then bounced around the corporate world, Lotus, Microsoft, Oracle but now works with Fred at a small startup where they and five other developers are trying to build the next great cat-picture rating website - CatR.</p>
<p>“Ok, let me CR it”, CR is the teams short-hand for Code Review. Even though most of the team are experienced programmers every feature and bug fix commit must be reviewed by another developer.</p>
<p>Fred is the “new guy” on the team, this is his third day at InfoTech and he’s submitting his first feature enhancement. Even though Fred has 8 years of coding under his belt, he still gets a little nervous when someone reviews his code.</p>
<p>“Hmmmmm” Tim types back. <em>Ugh, This can’t be good</em> Fred thinks.</p>
<p>“This git diff looks weird. How many lines did you change in the main stylesheet?”</p>
<p>“Only 2 why?” Fred types back, starting to get a bit defensive. He takes a few quick, deep breaths and calms down.</p>
<p>“The diff is lighting up like a christmas tree. Check your diff locally.”</p>
<p>Fred opens up a terminal and does a quick check to see what Tim is talking about:</p>
<pre><code>git diff master product-ratings-feature
</code></pre><p><em>“Crap!”</em> the word jumps instantly into Freds mind. He can see immediately what Tims talking about. There a bunch of lines where the only thing different is the whitespace at the beginning or end of the line.</p>
<p>“Ugh, yeah I see it” Fred types back.</p>
<p>“Well, we can’t pull this in yet dude, we only want to have diffs show what we actually changed so if something goes south in the future we’re not scratching our heads looking at a all whitespace commit. Go back and check your whitespace settings, re-save and let me know when I can review it again.”</p>
<p>“Great, guess I’ve got some more work to do” Fred says to himself. He lets out a fairly audible sigh, opens up Visual Studio and starts typing away at the keyboard.</p>
<p><strong>The moral of the story</strong></p>
<p>Trailing whitespace issues can cause a lot of problems when they get into your repository. It leads to falsey diffs which claim lines have been changed when in fact the only thing that changed was spacing.</p>
<p>This can make finding what actually changed in a file later on in the development cycle next to impossible. Most open source project leads know this and a lot of them will reject pull requests that fail to trim whitespace (or have other</p>
<p>A lot of IDEs and text editors have options to configure trailing whitespace (SublimeText make this insanely easy) but Visual Studio, amazingly, has no option for this.</p>
<h2 id="How_to_Remove_Trailing_Whitespace_on_save_in_Visual_Studio"><a href="#How_to_Remove_Trailing_Whitespace_on_save_in_Visual_Studio" class="headerlink" title="How to Remove Trailing Whitespace on save in Visual Studio"></a>How to Remove Trailing Whitespace on save in Visual Studio</h2><ol>
<li>Open visual studio (yep)</li>
<li>In the menu select Tools -&gt; Macros -&gt; Macros IDE (yeah, we’re opening <strong>another</strong> IDE)</li>
<li>Expand “My Macros” in the Project Explorer (usually in the right-hand side of the window)</li>
<li>Double-Click the EnvironmentEvents module (yep, it’s VBA in all it’s glory)</li>
<li><p>Paste the code below just after the “Automatically generated code” region</p>
<pre><code>Private Sub DocumentEvents_DocumentSaved(ByVal document As EnvDTE.Document) _
    Handles DocumentEvents.DocumentSaved
    Dim fileName As String
    Dim result As vsFindResult

    Try
        &apos; Remove trailing whitespace
        result = DTE.Find.FindReplace( _
            vsFindAction.vsFindActionReplaceAll, _
            &quot;{:b}+$&quot;, _
            vsFindOptions.vsFindOptionsRegularExpression, _
            String.Empty, _
            vsFindTarget.vsFindTargetFiles, _
            document.FullName, _
            &quot;&quot;, _
            vsFindResultsLocation.vsFindResultsNone)

        If result = vsFindResult.vsFindResultReplaced Then
            &apos; Triggers DocumentEvents_DocumentSaved event again
            document.Save()
        End If
    Catch ex As Exception
        MsgBox(ex.Message, MsgBoxStyle.OkOnly, &quot;Trim White Space exception&quot;)
    End Try
End Sub
</code></pre></li>
</ol>
<p>Now save your new macro and whenever you save a file in Visual Studio this will run and trim all the trailing whitespace.</p>
<h2 id="How_to_Remove_trailing_whitespace_on_save_in_Sublime_Text_2"><a href="#How_to_Remove_trailing_whitespace_on_save_in_Sublime_Text_2" class="headerlink" title="How to Remove trailing whitespace on save in Sublime Text 2"></a>How to Remove trailing whitespace on save in Sublime Text 2</h2><ol>
<li>In Sublime Text, open up the preferences menu and select “File Settings - User”<ul>
<li>this is important because if you use the “Default” settings, they may be overwritten when you update Sublime Text to a new version.</li>
</ul>
</li>
<li>Scroll down until you see <code>&quot;trim_trailing_white_space_on_save&quot;</code>, set this option to <code>true</code></li>
<li>Save</li>
<li>Profit</li>
</ol>
<h2 id="Get_Git_to_help_you_out"><a href="#Get_Git_to_help_you_out" class="headerlink" title="Get Git to help you out"></a>Get Git to help you out</h2><p>In the example above Fred could have saved himself a lot of time if he ran one command:</p>
<pre><code>mv .git/hooks/pre-commit.sample .git/hooks/pre-commit
</code></pre><p>This file has a check (on the last line) that will fail any commit when there are whitespace errors. It’s not enabled by default so you have to remove the <code>.sample</code> from the file name to get git to run it.</p>
<h2 id="After_all_this_2C_what_should_I_do_next_3F"><a href="#After_all_this_2C_what_should_I_do_next_3F" class="headerlink" title="After all this, what should I do next?"></a>After all this, what should I do next?</h2><p>High-five Yourself!!!</p>
<p><img src="http://dl.dropbox.com/u/6291954/MnEIl.gif" alt=""></p>

            
                

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/best-practices/">best-practices</a> <a class="tag tag--primary tag--small t-link" href="/tags/source-control/">source-control</a>

            </div>
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/01/29/hello-world/"  data-tooltip="hello world (again)">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2010/01/13/solving-document-ready-is-not-a-function-and-other-problems/" data-tooltip="Solving &quot;$(document).ready is not a function&quot; and other problems">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2016 Jared Barboza. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="3">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/01/29/hello-world/"  data-tooltip="hello world (again)">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2010/01/13/solving-document-ready-is-not-a-function-and-other-problems/" data-tooltip="Solving &quot;$(document).ready is not a function&quot; and other problems">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#disqus_thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="3">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/">
                <i class="fa fa-google-plus"></i><span class="">Share on Google Plus</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/">
                <i class="fa fa-facebook-official"></i><span>Share on Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/">
                <i class="fa fa-twitter"></i><span>Share on Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        


    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="http://www.gravatar.com/avatar/55997cec217233703cbf68b689578771?s=110"/>
        
            <h4 id="about-card-name">Jared Barboza</h4>
        
            <h5 id="about-card-bio"><p>dev @Hudl. I like javascript, cats and video games. I’m an adult, opinions here are mine.</p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Software Developer, npm installer</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Austin, Texas
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('https://lh3.googleusercontent.com/-Z-Xt3Acjp5g/TQP6bUqu1mI/AAAAAAAABeY/uQ5kVcUXIaA/s2048-Ic42/IMG_4514.JPG');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/scrip-j3sdbs40clcwf84cxdwt7y0fqururvrd2dxcq4gxwg70erkcotd3oh9ofsge.min.js" type="text/javascript"></script>
<!--SCRIPTS END-->

    
        <script>
             var disqus_config = function () {
                 this.page.url = 'http://codeimpossible.com/2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/';
                 
                    this.page.identifier = '2012/04/02/trailing-whitespace-is-evil-don-t-commit-evil-into-your-repo/';
                                  
             };
            (function() {
                var d = document, s = d.createElement('script');
                var disqus_shortname = 'codeimpossible';
                s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

                s.setAttribute('data-timestamp', +new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
    



</html>
